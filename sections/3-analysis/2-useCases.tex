\subsection{Use Cases}
Kubernetes can be deployed on most devices running Linux including many single-board computers like the Raspberry Pi. Using Kubernetes comes with the benefit of full orchestration from the cloud. That means, once a desired state is provided to the Kubernetes master it will work towards achieving this desired state and once the desired state is left, it will try to restore it. The main downside of this is its processing overhead. The kubelet runs a house keeping process in the background which checks in periods if everything is well and synchronizes its state with the master. In Kubernetes applications are deployed via containers which were shown in \cref{sec:containers} to have little overhead over native applications.
Thus, if an IoT gateway has sufficient resources to run Kubernetes and if the system does not have real time requirements, then Kubernetes can be an excellent choice. Following are three examples where Kubernetes could be of help. 

\subsubsection{Use Case 1: Data Pre-Processing and Aggregation in IIoT}
Traditionally, checking the seam of tubes in a factory was hand work. A worker controlled each tube and put it on different fabrication lines according to the rating. With IIoT this process can be fully automated. Sensors check the seam of each tube and send their result to the IoT gateway. An application running on it combines the rating according to a formula and produces a final scoring. This scoring is then ussend to an actuator which controls on which fabrication line the tube should continue. If a sensor is consistently far away from the average rating or not sending any data at all, the IoT gateway can schedule that sensor for maintenance. Every hour the IoT gateway then uploads aggregated statisticsUsing Kubernetes the administrator can be sure the system is always trying to have the applications running. But even if a pod is not running correctly, the administrator could easily see it in the centralized online dashboard. \\
In case new sensors are added to the system Kubernetes can take over the role of updating the actual services with rolling updates. This means, it only shouts down the old application when the new application is ready. Further, Kubernetes allows for staged or rolling rollouts. The system could be "tested" on only one production line and monitored for a week. If everything goes as planned the roll out continues otherwise the administrator can easily stop it. 

\subsubsection{Use Case 2: Smart Stores}
Smart stores represent another huge oppurtinity for Kubernetes. They have many cameras and sensors constantly monitoring the consumers and items. This data needs to be constantly analyzed but once analyzed is not important anymore. There is also the need for synchronization across the IoT gateways and the data has to be secured. With Kubernetes the administrator can deploy distributed databases which run on every node. With Istio on top, the traffic between the gateways can be secured independent of the underlying application. In case the application makes a static IP call, this call can easily be redirected to another IP.\\
When the software of these stores needs updating it can be easily done so from the cluster master. With the specification of the image digest, the administrator can also be sure that all applications use the same version.

\subsubsection{Use Case 3: Predictive Maintenance Solution}
In office buildings, guards usually make their rounds in the late evening to make sure everything is in order and that all lights are out. With smart light bulbs connected to IoT gateway running Kubernetes, this can be easily done remotely. Smart light bulbs can send their on/off status to an IoT gateway which aggregates the data and sends it hourly to the server. The server can then raise a maintenance ticket if a certain light bulb is running for longer than a certain set of hours. It is also possible to remotely control the light bulbs so that for example on national holidays all layout is turned off by default.\\
With Kubernetes updating the system is easy and centralized. Further Istio enables secure communication between the cloud and the edge so that no attackers can read, modify or inject messages.\footnote{In the implementation I will use such an example to show the benefits Kubernetes can offer on the edge for orchestration and security.}

\comment{
Since edge devices can also produce terabytes of data, taking the analytics closer to the source of the data on the edge can be more cost-effective by analyzing data near the source and only sending small batches of condensed information back to the centralized systems.
}
